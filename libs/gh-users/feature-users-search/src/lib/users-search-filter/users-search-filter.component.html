<div class="filter-container">
  <mat-form-field appearance="outline" class="query">
    <mat-label>Search</mat-label>
    <input
      matInput
      type="text"
      autocomplete="oselectedList"
      [ngModel]="searchParams().query"
      (ngModelChange)="onQueryChange($event)"
      #input
    />
    <mat-icon
      matSuffix
      class="query-icon__search"
      *ngIf="!input.value"
      >search</mat-icon
    >
    <mat-icon
      matSuffix
      class="query-icon__clear"
      *ngIf="input.value"
      (click)="input.value = ''; onQueryChange('')"
      >close</mat-icon
    >
  </mat-form-field>

  <div class="languages">
    <mat-form-field>
      <mat-label>languages</mat-label>
      <mat-select
        (selectionChange)="onLanguageChange($event.value)"
        multiple
        #selectedList
      >
        <mat-select-trigger>
          {{selectedList.value?.[0] || ''}}
          @if ((selectedList.value?.length || 0) > 1) {
          <span class="example-additional-selection">
            (+{{ (selectedList.value?.length || 0) - 1 }}
            {{ selectedList.value?.length === 2 ? 'other' : 'others' }})
          </span>
          }
        </mat-select-trigger>
        @for (language of languagesMap; track language) {
        <mat-option [value]="language">{{ language }}</mat-option>
        }
      </mat-select>
    </mat-form-field>
  </div>
</div>
